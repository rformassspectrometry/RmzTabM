% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/MTD.R
\name{mtd_assay}
\alias{mtd_assay}
\title{mzTab-M \emph{assay} metadata information}
\usage{
mtd_assay(
  ...,
  assay = character(),
  external_uri = character(),
  sample_ref = character(),
  ms_run_ref = character()
)
}
\arguments{
\item{...}{optional additional (custom) parameters for each assay. If
provided, the length of the \code{character} vector(s) have to match the
length of parameter \code{assay}.}

\item{assay}{\code{character} with the names of the assay(s). Each assay \strong{must}
be reported in the following sections (e.g. the SMF section).}

\item{external_uri}{optional \code{character} with a reference to further
information about the assay, for example via a reference to an object
within an ISA-TAB file. Can be of length 1 (in which case the same
reference is assigned to every assay) or length equal to the length
of \code{assay}.}

\item{sample_ref}{optional \code{character} with the ID/name of the sample for
the assay (e.g. \code{"sample[1]"}). If provided, its length has to match
the length of \code{assay}.}

\item{ms_run_ref}{\code{character} with the ID of associated \emph{ms_run}(s). For
multiplexed assays, different assays can refer to the same run. To
support pre-fractionated samples, it is also possible to provide a
\code{list} of \code{character} with the runs the assay was measured in. See
examples below for more details.}
}
\value{
two-column \code{character} \code{matrix} with the content for the assay
metadata section.
}
\description{
The \code{mtd_assay()} function assists in compiling the \emph{assay} information of
the metadata section. Each assay \strong{must} be associated with at least one
entry of the \emph{ms_run} section (see \code{\link[=mtd_ms_run]{mtd_ms_run()}}). This mapping can be
defined with the \code{ms_run_ref} parameter by providing the ID/name of the
run (e.g. \code{"ms_run[1]"}).

\strong{Important:} to support the optional additional parameters passed along
with \code{...} \strong{all} parameters (such as \code{assay}, \code{sample_ref} etc) have to
be \strong{fully} spelled out.

For details and expected input for the various parameter it is \strong{strongly
suggested} to consult the \href{https://github.com/HUPO-PSI/mzTab-M/blob/main/specification_documents/mzTab_format_specification_2_1-M.adoc#62-metadata-section}{mzTab-M} documentation.
}
\examples{

## Minimal example with assay and ms_run_ref defined, each assay assigned
## to its own MS run. Note that for **all** parameters the **full**
## parameter name has to be used (e.g., `assay = `).
mtd_assay(assay = c("a1", "a2", "a3"),
    ms_run_ref = c("ms_run[1]", "ms_run[2]", "ms_run[3]"))

## Example for a multiplexed assay.
mtd_assay(assay = c("a1", "a2", "a3"),
    ms_run_ref = c("ms_run[1]", "ms_run[1]", "ms_run[1]"))

## Example for a pre-fractionated samples
mtd_assay(assay = c("a1", "a2", "a3"),
    ms_run_ref = list(c("ms_run[1]", "ms_run[2]"),
                      c("ms_run[3]", "ms_run[4]"),
                      c("ms_run[5]", "ms_run[6]")))

## Example adding also sample reference and an external_uri
mtd_assay(
    assay = c("a1", "a2", "a3"),
    external_uri = "https://www.ebi.ac.uk/metabolights/MTBLS517/files/i_Investigation.txt",
    sample_ref = c("sample[1]", "sample[1]", "sample[2]"),
    ms_run_ref = c("ms_run[1]", "ms_run[2]", "ms_run[3]"))

## Providing additional, custom information for each assay. These can be
## passed as `character` vectors (same length than `assay`!).
mtd_assay(assay = c("a1", "a2", "a3"),
    ms_run_ref = c("ms_run[1]", "ms_run[2]", "ms_run[3]"),
    c("[MS, , Assay operator, Fred Blogs]",
      "[MS, , Assay operator, Fred Blogs]",
      "[MS, , Assay operator, Frodo]"))
}
\seealso{
\link{MTD-export} for other functions defining metadata information
}
\author{
Johannes Rainer
}
